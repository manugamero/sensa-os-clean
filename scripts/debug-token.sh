#!/bin/bash

echo "ğŸ” Debug del token de Google"
echo "============================="
echo ""

echo "ğŸ“‹ Pasos para debuggear:"
echo "1. Abre http://localhost:3000"
echo "2. Abre la consola del navegador (F12)"
echo "3. Haz login con Google"
echo "4. Verifica que aparezca: 'Token de Google almacenado: [token]'"
echo "5. Ve a la pestaÃ±a Calendario"
echo "6. Verifica que aparezca: 'Token de acceso encontrado: SÃ­'"
echo "7. Verifica que aparezca: 'Enviando token al backend: SÃ­'"
echo "8. Verifica que aparezca: 'Respuesta del backend: 200 OK'"
echo ""

echo "ğŸ”§ Si no funciona:"
echo "1. Verifica que Google estÃ© habilitado en Firebase Console"
echo "2. Verifica que los dominios estÃ©n autorizados en Google Cloud Console"
echo "3. Verifica que las APIs estÃ©n habilitadas"
echo "4. Revisa los errores en la consola del navegador"
echo "5. Revisa los logs del servidor en la terminal"
echo ""

echo "ğŸ“± URLs importantes:"
echo "- Frontend: http://localhost:3000"
echo "- Backend: http://localhost:3001"
echo "- Firebase Console: https://console.firebase.google.com"
echo "- Google Cloud Console: https://console.cloud.google.com"
echo ""

echo "ğŸ¯ Estado esperado:"
echo "âœ… Login con Google funciona"
echo "âœ… Token se almacena en localStorage"
echo "âœ… Calendario muestra eventos reales"
echo "âœ… Email muestra emails reales"
echo ""

echo "ğŸš€ Para debuggear:"
echo "1. Abre la consola del navegador (F12)"
echo "2. Haz login con Google"
echo "3. Revisa los logs que aparecen"
echo "4. Comparte cualquier error que veas"
echo ""

echo "ğŸ“Š Logs del servidor:"
echo "Revisa la terminal donde estÃ¡ corriendo el backend"
echo "DeberÃ­as ver logs como:"
echo "- ğŸ“… Recibiendo solicitud de eventos del calendario"
echo "- ğŸ”‘ Configurando OAuth2 con token: [token]..."
echo "- âœ… Eventos obtenidos: [nÃºmero]"
